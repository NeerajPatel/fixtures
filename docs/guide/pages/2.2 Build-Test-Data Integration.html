<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>2.2 Build-Test-Data Integration 1.0.7</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/1. Introduction.html"><strong>1.</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/2. Defining The Data.html"><strong>2.</strong><span>Defining The Data</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/3. Loading Fixtures.html"><strong>3.</strong><span>Loading Fixtures</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/4. Fixture Objects.html"><strong>4.</strong><span>Fixture Objects</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/5. Advanced Techniques.html"><strong>5.</strong><span>Advanced Techniques</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>Load complex domain data via a convenient DSL</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../../guide/1. Introduction.html">&lt;&lt; <strong>1.</strong><span>Introduction</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../../guide/3. Loading Fixtures.html"><strong>3.</strong><span>Loading Fixtures</span> >></a></div>
                


                <div class="project">
                    <h1>2.2 Build-Test-Data Integration - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Grails Plugin Collective</p>

                    <p><strong>Version:</strong> 1.0.7</p>
                </div>

                

                
<h2><a name="2.2 Build-Test-Data Integration">2.2 Build-Test-Data Integration</a></h2>
The <a href="http://www.grails.org/plugin/build-test-data" target="blank">build-test-data plugin</a> is a great plugin that simplifies specifying test data by populating required properties for you that you don't care about in your particular test.<p class="paragraph"/>Consider the following class...<p class="paragraph"/><div class="code"><pre>// Book.groovy
class Book &#123;
  <span class="java&#45;object">String</span> title
  <span class="java&#45;object">String</span> isbn<p class="paragraph"/>  <span class="java&#45;keyword">static</span> constraints = &#123;
    title(required: <span class="java&#45;keyword">true</span>)
    isbn(required: <span class="java&#45;keyword">true</span>)
  &#125;
&#125;</pre></div><p class="paragraph"/>Whenever an instance of Book is created for a test, the <code>isbn</code> property has to be populated for the object to pass validation which can be distracting if your test does not care about the <code>isbn</code> property. The build-test-data plugin provides a static <code>build()</code> method on all domain classes that creates an instance with all non-specified, mandatory properties filled in with placeholder values that pass constrain tests. For more information, see the documentation on the plugin.<p class="paragraph"/>The fixtures plugin integrates with build-test-data by providing a <code>build()</code> method that has the same behaviour as <code>load()</code> except that objects are created via the build-test-data static <code>build()</code> method.<p class="paragraph"/>Which means that the following test will pass...<p class="paragraph"/><div class="code"><pre>def fixture = fixtureLoader.build &#123;
  gina(Book, title: <span class="java&#45;quote">"Groovy In Action"</span>)
&#125;
assert fixture.gina.isbn != <span class="java&#45;keyword">null</span></pre></div><p class="paragraph"/>And is equivalent to...<p class="paragraph"/><div class="code"><pre>def gina = Book.build(title: <span class="java&#45;quote">"Groovy In Action"</span>)
assert gina.isbn != <span class="java&#45;keyword">null</span></pre></div><p class="paragraph"/>In fixture files, you can specify that build-test-data integration should be used by using the <code>build()</code> method instead of the usual <code>fixture()</code> method.<p class="paragraph"/><h4>Switching it on/off</h4><p class="paragraph"/>You may only want to define part of your fixture with build-test-data integration, or conversely you may want to define part of it without it. You can do this via the <code>build()</code> and <code>noBuild()</code> methods inside a fixture definition.<p class="paragraph"/><div class="code"><pre>fixtureLoader.load &#123;
  build &#123;
    gina(Book, title: <span class="java&#45;quote">"Groovy In Action"</span>)
  &#125;
&#125;</pre></div><p class="paragraph"/><div class="code"><pre>fixtureLoader.build &#123;
  noBuild &#123;
    gina(Book, title: <span class="java&#45;quote">"Groovy In Action"</span>, isbn: <span class="java&#45;quote">"12345678"</span>)
  &#125;
&#125;</pre></div><p class="paragraph"/><h4>Installing build-test-data</h4><p class="paragraph"/>Note that build-test-data integration only works if you have installed the build-test-data plugin yourself. The fixtures plugin does not attempt to install it for you.



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../../guide/1. Introduction.html">&lt;&lt; <strong>1.</strong><span>Introduction</span></a></div>
                
                    <div class="toc-item next-right"><a href="../../guide/3. Loading Fixtures.html"><strong>3.</strong><span>Loading Fixtures</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    Copies of this document may be made for your own use and for distribution to others, provided that you do not charge any fee for such copies and further provided that each copy contains this Copyright Notice, whether distributed in print or electronically.
    Developed by the <a href='http://gpc.github.com'>Grails Plugin Collective</a>
</div>

<script type="text/javascript" src="../../js/docs.js"></script>

</body>
</html>
